{"version":3,"file":"main-CQ3EVylM.js","sources":["../../src/main.ts"],"sourcesContent":["/**\r\n * Main Entry Point for Vite\r\n * \r\n * This file is the entry point referenced by index.html.\r\n * Vite will compile and bundle this TypeScript into browser-compatible JavaScript.\r\n */\r\n\r\nimport './main.css';\r\n\r\n// Main application initialization\r\nfunction initApp() {\r\n  const app = document.getElementById('app');\r\n  \r\n  if (!app) {\r\n    console.error('App mount point not found');\r\n    return;\r\n  }\r\n  \r\n  // Render UI\r\n  app.innerHTML = `\r\n    <div class=\"container\">\r\n      <h1>ðŸŽ® Century: Golem Edition</h1>\r\n      <p class=\"subtitle\">Peer-to-Peer Multiplayer - No Server Required</p>\r\n      \r\n      <div class=\"tabs\">\r\n        <button class=\"tab-btn active\" data-tab=\"create\">Create Room</button>\r\n        <button class=\"tab-btn\" data-tab=\"join\">Join Room</button>\r\n      </div>\r\n      \r\n      <div class=\"tab-content active\" id=\"create-tab\">\r\n        <h2>Create a Game Room</h2>\r\n        <form id=\"create-form\">\r\n          <div class=\"form-group\">\r\n            <label>Number of Players:</label>\r\n            <input type=\"number\" id=\"player-count\" min=\"2\" max=\"5\" value=\"3\" />\r\n          </div>\r\n          <button type=\"submit\" class=\"btn-primary\">Create Room</button>\r\n        </form>\r\n        <div id=\"room-info\" style=\"display:none;\">\r\n          <h3>Room Created!</h3>\r\n          <p>Share this room code with other players:</p>\r\n          <div class=\"room-code\" id=\"room-code-display\"></div>\r\n          <p>Share this peer ID:</p>\r\n          <div class=\"peer-id\" id=\"peer-id-display\"></div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"tab-content\" id=\"join-tab\">\r\n        <h2>Join a Game Room</h2>\r\n        <form id=\"join-form\">\r\n          <div class=\"form-group\">\r\n            <label>Room Code:</label>\r\n            <input type=\"text\" id=\"room-code-input\" placeholder=\"e.g., A3F9K2\" />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Host Peer ID:</label>\r\n            <input type=\"text\" id=\"host-peer-id-input\" placeholder=\"Provided by host\" />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label>Your Name:</label>\r\n            <input type=\"text\" id=\"player-name-input\" placeholder=\"Enter your name\" />\r\n          </div>\r\n          <button type=\"submit\" class=\"btn-primary\">Join Room</button>\r\n        </form>\r\n      </div>\r\n      \r\n      <div id=\"game-area\" style=\"display:none;\">\r\n        <h2>Game in Progress</h2>\r\n        <div id=\"game-status\"></div>\r\n      </div>\r\n    </div>\r\n  `;\r\n  \r\n  setupEventListeners();\r\n}\r\n\r\nfunction setupEventListeners() {\r\n  // Tab switching\r\n  const tabButtons = document.querySelectorAll('.tab-btn');\r\n  tabButtons.forEach(button => {\r\n    button.addEventListener('click', () => {\r\n      const tabName = button.getAttribute('data-tab');\r\n      if (tabName) {\r\n        switchTab(tabName);\r\n      }\r\n    });\r\n  });\r\n  \r\n  // Create room form\r\n  const createForm = document.getElementById('create-form');\r\n  createForm?.addEventListener('submit', handleCreateRoom);\r\n  \r\n  // Join room form\r\n  const joinForm = document.getElementById('join-form');\r\n  joinForm?.addEventListener('submit', handleJoinRoom);\r\n}\r\n\r\nfunction switchTab(tabName: string) {\r\n  // Update buttons\r\n  document.querySelectorAll('.tab-btn').forEach(btn => {\r\n    btn.classList.remove('active');\r\n  });\r\n  document.querySelector(`[data-tab=\"${tabName}\"]`)?.classList.add('active');\r\n  \r\n  // Update content\r\n  document.querySelectorAll('.tab-content').forEach(content => {\r\n    content.classList.remove('active');\r\n  });\r\n  document.getElementById(`${tabName}-tab`)?.classList.add('active');\r\n}\r\n\r\nasync function handleCreateRoom(event: Event) {\r\n  event.preventDefault();\r\n  \r\n  const playerCount = (document.getElementById('player-count') as HTMLInputElement).value;\r\n  \r\n  // For now, just show a placeholder\r\n  const roomInfo = document.getElementById('room-info');\r\n  const codeDisplay = document.getElementById('room-code-display');\r\n  const peerDisplay = document.getElementById('peer-id-display');\r\n  \r\n  if (roomInfo && codeDisplay && peerDisplay) {\r\n    // Generate placeholder room code\r\n    const roomCode = generateRoomCode();\r\n    const peerId = `host_${roomCode}_${Date.now()}`;\r\n    \r\n    codeDisplay.textContent = roomCode;\r\n    peerDisplay.textContent = peerId;\r\n    roomInfo.style.display = 'block';\r\n    \r\n    console.log('Room created:', { playerCount, roomCode, peerId });\r\n    alert(`Room created!\\nCode: ${roomCode}\\nShare the code and peer ID with other players.`);\r\n  }\r\n}\r\n\r\nasync function handleJoinRoom(event: Event) {\r\n  event.preventDefault();\r\n  \r\n  const roomCode = (document.getElementById('room-code-input') as HTMLInputElement).value;\r\n  const hostPeerId = (document.getElementById('host-peer-id-input') as HTMLInputElement).value;\r\n  const playerName = (document.getElementById('player-name-input') as HTMLInputElement).value;\r\n  \r\n  if (!roomCode || !hostPeerId || !playerName) {\r\n    alert('Please fill in all fields');\r\n    return;\r\n  }\r\n  \r\n  console.log('Joining room:', { roomCode, hostPeerId, playerName });\r\n  alert(`Joining room ${roomCode} as ${playerName}...\\n(P2P connection not yet implemented)`);\r\n}\r\n\r\nfunction generateRoomCode(): string {\r\n  const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';\r\n  let code = '';\r\n  for (let i = 0; i < 6; i++) {\r\n    code += chars.charAt(Math.floor(Math.random() * chars.length));\r\n  }\r\n  return code;\r\n}\r\n\r\n// Initialize when DOM is ready\r\nif (document.readyState === 'loading') {\r\n  document.addEventListener('DOMContentLoaded', initApp);\r\n} else {\r\n  initApp();\r\n}\r\n"],"names":["initApp","app","document","getElementById","innerHTML","querySelectorAll","forEach","button","addEventListener","tabName","getAttribute","btn","classList","remove","querySelector","add","content","switchTab","createForm","handleCreateRoom","joinForm","handleJoinRoom","setupEventListeners","console","error","async","event","preventDefault","playerCount","value","roomInfo","codeDisplay","peerDisplay","roomCode","chars","code","i","charAt","Math","floor","random","length","generateRoomCode","peerId","Date","now","textContent","style","display","log","alert","hostPeerId","playerName","readyState"],"mappings":"AAUA,SAASA,IACP,MAAMC,EAAMC,SAASC,eAAe,OAE/BF,GAMLA,EAAIG,UAAY,k+DAyDlB,WAEqBF,SAASG,iBAAiB,YAClCC,QAAQC,IACjBA,EAAOC,iBAAiB,QAAS,KAC/B,MAAMC,EAAUF,EAAOG,aAAa,YAChCD,GAeV,SAAmBA,GAEjBP,SAASG,iBAAiB,YAAYC,QAAQK,IAC5CA,EAAIC,UAAUC,OAAO,YAEvBX,SAASY,cAAc,cAAcL,QAAcG,UAAUG,IAAI,UAGjEb,SAASG,iBAAiB,gBAAgBC,QAAQU,IAChDA,EAAQJ,UAAUC,OAAO,YAE3BX,SAASC,eAAe,GAAGM,UAAgBG,UAAUG,IAAI,SAC3D,CA1BQE,CAAUR,OAMhB,MAAMS,EAAahB,SAASC,eAAe,eAC3Ce,GAAYV,iBAAiB,SAAUW,GAGvC,MAAMC,EAAWlB,SAASC,eAAe,aACzCiB,GAAUZ,iBAAiB,SAAUa,EACvC,CAtBEC,IA3DEC,QAAQC,MAAM,4BA4DlB,CAqCAC,eAAeN,EAAiBO,GAC9BA,EAAMC,iBAEN,MAAMC,EAAe1B,SAASC,eAAe,gBAAqC0B,MAG5EC,EAAW5B,SAASC,eAAe,aACnC4B,EAAc7B,SAASC,eAAe,qBACtC6B,EAAc9B,SAASC,eAAe,mBAE5C,GAAI2B,GAAYC,GAAeC,EAAa,CAE1C,MAAMC,EA4BV,WACE,MAAMC,EAAQ,mCACd,IAAIC,EAAO,GACX,IAAA,IAASC,EAAI,EAAGA,EAAI,EAAGA,IACrBD,GAAQD,EAAMG,OAAOC,KAAKC,MAAMD,KAAKE,SAAWN,EAAMO,SAExD,OAAON,CACT,CAnCqBO,GACXC,EAAS,QAAQV,KAAYW,KAAKC,QAExCd,EAAYe,YAAcb,EAC1BD,EAAYc,YAAcH,EAC1Bb,EAASiB,MAAMC,QAAU,QAEzBzB,QAAQ0B,IAAI,gBAAiB,CAAErB,cAAaK,WAAUU,WACtDO,MAAM,wBAAwBjB,oDAChC,CACF,CAEAR,eAAeJ,EAAeK,GAC5BA,EAAMC,iBAEN,MAAMM,EAAY/B,SAASC,eAAe,mBAAwC0B,MAC5EsB,EAAcjD,SAASC,eAAe,sBAA2C0B,MACjFuB,EAAclD,SAASC,eAAe,qBAA0C0B,MAEjFI,GAAakB,GAAeC,GAKjC7B,QAAQ0B,IAAI,gBAAiB,CAAEhB,WAAUkB,aAAYC,eACrDF,MAAM,gBAAgBjB,QAAemB,+CALnCF,MAAM,4BAMV,gsBAY4B,YAAxBhD,SAASmD,WACXnD,SAASM,iBAAiB,mBAAoBR,GAE9CA"}